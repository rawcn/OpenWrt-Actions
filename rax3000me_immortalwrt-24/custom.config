#=================================================#
# 1. 目标平台与设备 (Target)
#=================================================#
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_filogic=y
CONFIG_TARGET_mediatek_filogic_DEVICE_cmcc_rax3000me=y

#=================================================#
# 2. 核心网络优化 (Network Optimization)
#=================================================#
# 启用 TurboACC 网络加速中心 (核心组件)
CONFIG_PACKAGE_luci-app-turboacc=y
# 包含 BBR 拥塞控制算法 (对抗移动网络丢包)
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_BBR_CCA=y
# 包含 流量卸载 (Filogic 硬件加速必备)
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_OFFLOADING=y
# 启用多核中断负载均衡 (提升 USB 网卡吞吐性能)
CONFIG_PACKAGE_irqbalance=y
# 启用 TTL 修改模块 (用于防热点检测)
CONFIG_PACKAGE_kmod-ipt-ipopt=y
# 启用 nftables 硬件卸载支持
CONFIG_PACKAGE_kmod-nft-offload=y

#=================================================#
# 3. 科学上网与 DNS (Proxy & DNS)
#=================================================#
# [新增] HomeProxy (基于 Sing-box 的现代化轻量级代理)
CONFIG_PACKAGE_luci-app-homeproxy=y
CONFIG_PACKAGE_luci-i18n-homeproxy-zh-cn=y
# 确保 Sing-box 内核被选中
CONFIG_PACKAGE_sing-box=y

# [新增] SmartDNS (高性能本地 DNS 服务器)
CONFIG_PACKAGE_luci-app-smartdns=y
CONFIG_PACKAGE_luci-i18n-smartdns-zh-cn=y
CONFIG_PACKAGE_smartdns=y

# [移除] 之前的重型/冲突插件
# CONFIG_PACKAGE_luci-app-openclash is not set
# CONFIG_PACKAGE_luci-app-mosdns is not set
# CONFIG_PACKAGE_luci-app-adguardhome is not set

#=================================================#
# 4. USB 共享网络驱动 (USB Tethering)
#=================================================#
# USB 核心与基本协议
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb-net=y
CONFIG_PACKAGE_kmod-usb-net-rndis=y
CONFIG_PACKAGE_kmod-usb-net-cdc-ether=y
# NCM 协议 (安卓手机首选，高性能)
CONFIG_PACKAGE_kmod-usb-net-cdc-ncm=y
CONFIG_PACKAGE_kmod-usb-net-huawei-cdc-ncm=y
# 4G/5G 模组常用协议
CONFIG_PACKAGE_kmod-usb-net-qmi-wwan=y
CONFIG_PACKAGE_luci-proto-qmi=y

#=================================================#
# 5. 存储与文件系统 (Storage)
#=================================================#
# [新增] EXT4 文件系统支持 (最稳)
CONFIG_PACKAGE_kmod-fs-ext4=y
# [新增] EXT4 格式化与修复工具
CONFIG_PACKAGE_e2fsprogs=y
# 自动挂载工具
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_luci-app-diskman=y
CONFIG_PACKAGE_luci-i18n-diskman-zh-cn=y

# [移除] Samba 文件共享
# CONFIG_PACKAGE_luci-app-samba4 is not set
# CONFIG_PACKAGE_samba4-server is not set
# CONFIG_PACKAGE_luci-i18n-samba4-zh-cn is not set
# CONFIG_PACKAGE_wsdd2 is not set


#=================================================#
# 6. 实用工具箱 (Utilities)
#=================================================#
# [新增] bind-dig: DNS 诊断神一
CONFIG_PACKAGE_bind-dig=y
# [新增] curl: 命令行下载/请求
CONFIG_PACKAGE_curl=y
# [新增] iperf3: 局域网测速
CONFIG_PACKAGE_iperf3=y
# [新增] htop: 更好的进程监控
CONFIG_PACKAGE_htop=y

# Bash Shell
CONFIG_PACKAGE_bash=y
# USB 工具
CONFIG_PACKAGE_usbutils=y


#=================================================#
# 7. LuCI 界面与主题 (GUI)
#=================================================#
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-i18n-argon-config-zh-cn=y
# 高级设置
CONFIG_PACKAGE_luci-app-advanced-settings=y

#=================================================#
# 8. 依赖库清理 (Library Cleanup)
#=================================================#
# 确保必要的依赖被选中
CONFIG_PACKAGE_libcap=y
CONFIG_PACKAGE_libcap-ng=y
CONFIG_PACKAGE_libcurl=y
CONFIG_PACKAGE_libopenssl=y
CONFIG_PACKAGE_libstdcpp=y
